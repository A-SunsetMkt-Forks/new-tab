<!-- XXX: Wrapper div actually reduces the overall file size -->
<div>
  <div class="row">
    <label for="theme">Theme</label>
    <select id="theme" bind:value="_theme">
      <option value="l">Light</option>
      <option value="">Dark</option>
    </select>
  </div>

  <hr>

  <small>
    <em>â€» Settings sync to your account.</em>
  </small>
</div>

<script>
  export default {
    data: () => ({
      _theme: '', // frontend theme
    }),
    oncreate() {
      // check existing settings
      chrome.storage.sync.get(null, (settings) => {
        this.set({ _theme: settings.t });
      });
    },
    onstate({ changed, current, previous }) {
      if (previous) {
        if (changed._theme) {
          // chrome.storage.sync.set({ t: current._theme, td: Date.now() });
          chrome.storage.sync.set({ t: current._theme }); // eslint-disable-line id-length
        }
      }
    },
  };
</script>

<style type="text/postcss" global>
  body {
    font-size: 18px;
  }

  hr {
    border: 0;
    border-bottom: 1px solid rgb(221, 221, 221);
  }

  select {
    margin-left: 9px;
  }

  hr,
  .row {
    margin-bottom: 18px;
  }
</style>
