<div ref:m id="menu">
  <div id="icon">â˜°</div>

  <div id="dropdown">
    <a href="chrome-search://local-ntp/local-ntp.html" class="menu-item">
      Open Default Tab
    </a>
    <a href="chrome://bookmarks/" class="menu-item">
      Bookmarks Manager
    </a>
    <a href="chrome://downloads/" class="menu-item">
      Downloads
    </a>
    <a href="chrome://history/" class="menu-item">
      History
    </a>
    <a href="chrome://settings/passwords" class="menu-item">
      Passwords
    </a>

    <hr>

    <a id="o" class="menu-item">
      New Tab Settings
    </a>
    <a href="https://github.com/MaxMilton/new-tab/issues" class="menu-item">
      Submit Bug
    </a>
  </div>
</div>

<script>
  export default {
    // rather than using on:click + a method like normal, manually set up an event
    // listener so the entire template is static and recives special optimisation
    oncreate() {
      this.refs.m.addEventListener('click', () => chrome.runtime.openOptionsPage());
    },
  };
</script>

<style type="text/postcss">
  :global(hr) {
    border: 0;
    border-bottom: 1px solid var(--c);
  }

  :global(.menu-item) {
    display: block;
    color: var(--t);
  }

  :global(#menu) {
    position: fixed;
    top: 90px;
    padding: 10px 84px 84px 42px;
    margin: -28px -84px -64px 0;
    font-size: 20px;
  }

  :global(#icon) {
    font-size: 30px;
    color: var(--c1);
  }

  :global(#dropdown) {
    position: absolute;
    top: 10px;
    z-index: 1;
    padding: 18px;
    white-space: nowrap;
    background: var(--c0);
    box-shadow: var(--s0);
    opacity: 0;
    transition:
      opacity 192ms ease-out,
      transform 192ms ease-out;
    transform: scale(0.5);
    transform-origin: 0 10px;

    :global(#menu):hover > &,
    :global(#menu):focus > & {
      opacity: 1;
      transform: scale(1);
    }
  }
</style>
